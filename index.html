<html>
<head>
	<meta charset="UTF-8" />

	<title>Ethereum Monitoring - Smootihe | Mubiz</title>
	<meta name="description"    content=""/>
	<meta name="keywords"       content=""/>
	
	<meta name="robots"         content="index,follow"/>
	<meta name="rating"         content="safe for kids"/>
	<meta name="revisit-after"  content="14 days"/>
	<meta name="author"         content="Mubiz"/>

	<meta name="geo.placename"	content="France"/>

	<meta property="og:type"		content="website"/>
	<meta property="og:site_name"	content="GitHub - Albin CAUDERLIER"/>
	<meta property="og:locale"		content="fr_FR"/>

	<meta name="theme-color" content="#009999">
	
	<link rel="shortcut icon"   					type="image/ico"	href="images/favicon.ico" 	/>
	
	<!-- <meta name="viewport" content="width=device-width, initial-scale=1.0, target-densitydpi=device-dpi"/> -->
	
	<script type="text/javascript" src="js/jquery.js"></script>
	<!-- <script type="text/javascript" src="js/ethereum.js" defer></script> -->
	
	<!-- <link rel="stylesheet"    		media="all"		type="text/css" 	href="style/style_screen.css"   /> -->
	
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="styles/default.css">
	
	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
	<link rel="stylesheet"    		media="all"		type="text/css" 	href="http://v4-alpha.getbootstrap.com/examples/navbar-top-fixed/navbar-top-fixed.css"   />
    <style type="text/css">
    pre {outline: 1px solid #ccc; padding: 5px; margin: 5px; }
.string { color: green; }
.number { color: darkorange; }
.boolean { color: blue; }
.null { color: magenta; }
.key { color: red; }
</style>
	
</head>
<body>
   <!-- Fixed navbar -->
   <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <a href="index.html" class="navbar-brand" rel="home" title=""><img style="max-width:100px;" src="images/mubiz/mubiz-logo-white.png" alt="Mubiz logo"></a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Ressources</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">3&egraveme ann&eacutee<span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="#">TP 1</a></li>
            </ul>
        </li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">4&egraveme ann&eacutee<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="#">TP 1</a></li>
        </ul>
    </li>
</ul>
</div><!--/.nav-collapse -->
</div>
</nav>

<div class="container theme-showcase" role="main">
  <div class="jumbotron">
     <h1>Monitoring Ethereum Nodes</h1>
     <h2>Objectif</h2>
     <p>
        Fournir une interface de suivi de l'état des nodes Ethereum de Smoothie.
    </p>
</div>
<div class="row">
<div class="col-lg-6 col-xs-6">
    <pre>
        <code id="demo" class="json kljs"></code>
    </pre>
</div>
<div class="col-lg-6 col-xs-6 demo2"></div>
</div>


</div>
<footer class="footer">
  <div class="container">
     <a href="http://mubiz.com" title="Made by Albin CAUDERLIER for Mubiz">(c) Mubiz</a>
     <ul class="footer-list">
        <li class="footer-list-item"><a href="http://mubiz.com">Mubiz</a></li>
        <li class="footer-list-item"><a href="http://mubiz.com/about">A propos de Mubiz</a></li>
        <li class="footer-list-item"><a href="http://mubiz.com/developers">API de Mubiz</a></li>
    </ul>
</div>
</footer>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
<script src="js/highlight.pack.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/docs.min.js"></script>
<script type="text/javascript">
/*var xmlhttp = new XMLHttpRequest();
var myTxt;
xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        myObj = JSON.parse(this.responseText);
        for (var property in myObj) {
            Output.add("obj." + property + " = " + myObj[property]);
        }
        Output.display('demo');
    }
};


var Output = {
  text:'',
  add:function(text){
    Output.text += text + '<br />';
  },
  display:function(id){
    document.getElementById(id).innerHTML = Output.text;
  }
};


xmlhttp.open("GET", "http://bitcoin.mubiz.com/peerinfo", true);
xmlhttp.send();

$.getJSON ( "http://bitcoin.mubiz.com/peerinfo", function( data ) {
  var items = [];
  $.each( data, function( key, val ) {
    console.log(key);
    console.log(key.toString() + '0');
    if( key.toString() == "bytessent_per_msg" || key.toString() == "bytesrecv_per_msg") {
        item.push(key + ' : [');
        data2 = val;
        $.each( data2, function( key2, val2 ) {
            item.push('<span class="marge">' + key2 + ' = ' + val2 + ',</span></br>');
        });
        item.push('<span class="marge">],</span>');
    } else {
        items.push('<span class="">' + key + ' = ' + val + ',</span></br>');
    }
   });

  $( "<ul/>", {
    "class": "my-new-list",
    html: items.join( "" )
}).appendTo( "div.demo2" );
});

// http://stackoverflow.com/questions/4810841/how-can-i-pretty-print-json-using-javascript
function output(inp) {
    document.getElementById("demo").innerHTML = inp;
}

function syntaxHighlight(json) {
    json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
    return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (match) {
        var cls = 'number';
        if (/^"/.test(match)) {
            if (/:$/.test(match)) {
                cls = 'key';
            } else {
                cls = 'string';
            }
        } else if (/true|false/.test(match)) {
            cls = 'boolean';
        } else if (/null/.test(match)) {
            cls = 'null';
        }
        return '<span class="' + cls + '">' + match + '</span>';
    });
}

var xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        var myObj = this.responseText;
        var str = JSON.stringify(myObj, undefined, 4);
        //output(str);
        //document.getElementById("demo").innerHTML = myObj;
        output(syntaxHighlight(myObj));
        //document.getElementByTagName("demo2").innerHTML = myObj;
    }
};
xmlhttp.open("GET", "http://bitcoin.mubiz.com/peerinfo", true);
xmlhttp.send();

var xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        var myObj = this.responseText;
        var jsonPretty = JSON.stringify(JSON.parse(myObj),null,2);
        document.getElementById("demo").innerHTML = jsonPretty;
    }
};
xmlhttp.open("GET", "http://bitcoin.mubiz.com/peerinfo", true);
xmlhttp.send();
*/

// http://stackoverflow.com/questions/14195530/how-to-display-raw-json-data-on-a-html-page
/*
var xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        var myObj = this.responseText,
        jsonStr = JSON.stringify(myObj),
        regeStr = '',
        f = {
            brace: 0
        }; // for tracking matches, in particular the curly braces
        regeStr = jsonStr.replace(/({|}[,]*|[^{}:]+:[^{}:,]*[,{]*)/g, function (m, p1) {
            var rtnFn = function() {
                return '<div style="text-indent: ' + (f['brace'] * 20) + 'px;">' + p1 + '</div>';
            },
            rtnStr = 0;
            if (p1.lastIndexOf('{') === (p1.length - 1)) {
                rtnStr = rtnFn();
                f['brace'] += 1;
            } else if (p1.indexOf('}') === 0) {
               f['brace'] -= 1;
               rtnStr = rtnFn();
           } else {
            rtnStr = rtnFn();
        }
        return rtnStr;
    });

        document.getElementById("demo").innerHTML += regeStr;
    }
}
xmlhttp.open("GET", "http://bitcoin.mubiz.com/peerinfo", true);
xmlhttp.send();
*/
// http://highlightjs.readthedocs.io/en/latest/api.html#highlight-name-value-ignore-illegals-continuation
/*hljs.configure({
  tabReplace: '    ', // 4 spaces
  classPrefix: ''     // don't append class prefix
                      // … other options aren't changed
});*/
hljs.initHighlighting();
var xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        var myObj = this.responseText;
        //myObj = hljs(json, myObj);
        document.getElementById("demo").innerHTML = myObj;
    }
};
xmlhttp.open("GET", "http://bitcoin.mubiz.com/peerinfo", true);
xmlhttp.send();
</script>
</body>
</html>